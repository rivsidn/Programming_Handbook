| 重定向                  | 类型     | 语法                                             | 解释                                                         |
| ----------------------- | -------- | ------------------------------------------------ | ------------------------------------------------------------ |
| 输入重定向              | 文件类   | [n]<word                                         | [输入重定向](#输入重定向)                                    |
| 输出重定向              | 文件类   | [n]>[\|]word                                     | [输出重定向](#输出重定向)                                    |
| 追加输出重定向          | 文件类   | [n]>>word                                        | [追加输出重定向](#追加输出重定向)                            |
| 标准输出/错误重定向     | 文件类   | &>word (推荐)<br/>>&word<br/>>word 2>&1          |                                                              |
| 标准输出/错误追加冲定向 | 文件类   | &>>word<br/>>>word 2>&1                          |                                                              |
| 文件读写重定向          | 文件类   | [n]<>word                                        |                                                              |
| 复制文件描述符          | 描述符类 | [n]<&word<br/>[n]>&word                          | 此处的`word`可以展开成多个文件描述符。<br />`word`展开，将文件描述符`n`中的内容复制到展开后的文件描述符 |
| 移动文件描述符          | 描述符类 | [n]<&digit-<br/>[n]>&digit-                      | `digit` 文件描述符中内容放到文件描述符`n`中，关闭原来的`digit` |
| Here Documents          | 其他     | [n]<<[-]word<br/>	here-document<br/>delimiter | [Here Documents](#Here&#32;Documents)                        |
| Here Strings            | 其他     | [n]<<< here-strings                              |                                                              |

重定向主要用于，描述符与文件以及描述符与描述符之间的操作，可以按照这个将重定向分为如下三类：

* 文件类
* 描述符类
* 其他

文件类，语法中的`word` 表示的是文件名；描述符类语法中的`word` 表示的描述符；其他类中的`word` 表示的是一个标识符。

文件描述符可以理解是一个数组，数组下标就是文件描述符号，通过数组中内容可以找到对应的文件或终端，所谓的文件描述符复制，就是将第`n`个文件描述符的内容复制到其他文件描述符的数组中；输入、输出，表示的是文件描述符的读写属性，输入文件描述符只读，输出文件描述符只写。



## 输入重定向

### 解释

```bash
[n]<word
```

在文件描述符 `n` 以只读方式打开文件`word`，如果省略`n`，表示在文件描述符0 。



### 示例(一)

```bash
#! /bin/bash

# 文件描述符4 以只读方式打开文件
exec 4<test_file

for((;;))
do
	read -u 4 line
	echo ${line}
	sleep 1
done
```



## 输出重定向

### 解释

```bash
[n]>[|]word
```

在文件描述符 `n` 以只写方式打开文件`word`，如果省略`n`，表示在文件描述符1 。

* 如果文件不存在则创建
* 如果文件存在
  * 如果没设置`noclobber`会将文件清空
  * 如果设置了`noclobber`且使用 `>` 会导致失败
  * 如果设置了`noclobber`且使用`>|`会继续尝试写



## 追加输出重定向

### 解释

```bash
[n]>>word
```

在文件描述符 `n` 以只写方式打开文件`word`，如果省略`n`，表示文件描述符1 。

文件不存在则会重新创建。



## Here Documents

### 解释

```bash
[n]<<[-]word
	here-document
delimiter
```

`shell` 从当前文件中获取标准输入内容。

* `word` 不会执行任何展开动作，`delimiter` 是`word` 解引用之后的内容
* 如果`word` 被引用了，其中的`here-document` 不会展开；否则`here-document`会被展开
* 如果使用的是`<<-` 符号，则开始的`tab` 会被删除掉

### 示例(一)

```bash
#! /bin/bash

TEST="test"

# 由于此时添加了注释，所以内部的${TEST}不展开
exec <<"document"
	nihao
	test
	${TEST}
document

# 标准输入中读取内容，输出
while read line
do
	echo ${line}
done
```

